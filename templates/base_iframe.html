{% extends 'base.html' %}

{% block extra-head %}
	{{ block.super }}
{% endblock %}

{% block body %}
	<div class='flexible flex-direction-row'>
			
		<div class='flexible flexible-half flex-direction-col p-3'>
			<form class='flexible flex-direction-col'>
			<div>
			<ul class="nav nav-tabs">
				{% block nav-tabs %}
				{% endblock %}
			</ul>
			</div>
			<div id='inputsel' class="flexible flex-direction-col">

				<div>{{ gsimFormField.label }}</div>
				<div class='flexible flex-direction-col' style='overflow:auto'>
					<!-- GSIM FORM CONTROL: -->
					<select v-model="selectedGsims" multiple class="form-control flexible"
						name="{{ gsimFormField.name }}">
						<option v-for="gsim in gsims" v-show="isGsimVisible(gsim)">
							&#123;&#123; gsim &#125;&#125;
						</option>
					</select>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend">
    					<button v-on:click="showTypeDropdown" class="btn btn-outline-secondary dropdown-toggle" type="button"
    						data-toggle="dropdown"
    						aria-haspopup="true" aria-expanded="false">Filter by &#123;&#123; filterType &#125;&#125; </button>
    					<div v-show="typeDropdownVisible" class="dropdown-menu shadow" 
    						style='display:initial'>  <!-- need to set display:initial to work with Vue -->
      						<a v-for="item in filterTypes" v-on:click="filterType=item"
      							class="dropdown-item" href="#">
    							&#123;&#123; item &#125;&#125;
							</a>
    					</div>
  					</div>
  					<input v-on:focus="showGsimsDropdown" v-model="filterText" type="text" class="form-control"
  						aria-label="Text input with dropdown button">
				</div>
	
				<div>{{ imtFormField.label }}</div>
				<!-- IMT FORM CONTROL: -->
				<select v-model="selectedImts" multiple size=8 class="form-control" id="selectable_imts"
					name="{{ imtFormField.name }}">
					<option v-bind:disabled="!isImtSelectable(imt)" v-for='imt in imts'>
						&#123;&#123; imt &#125;&#125;
					</option>
				</select>

			</div>
			{% block form-extra-divs %}{% endblock %}
			</form>
		</div>
		<div class='flexible flexible-half p-3'>
			{% block right-panel %}{% endblock %}	
		</div>
	</div>
{% endblock %}

{% block after-body %}
	{{ block.super }}
	<script type='text/javascript' src = "{% static 'js/inputsel.js' %}"></script>
{% endblock %}
